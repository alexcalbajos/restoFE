<div class="container shadow">
    <div class="title-row"
        fxLayout="row wrap"
        fxLayoutAlign="space-between center">
        <h3 class="uppercase">{{ 'ADDRESS' | translate }}</h3>
        <button (click)="addAddress()"
            ngClass.lt-sm="thin">+ {{ 'NEW_ADDRESS_TITLE' | translate }}</button>
    </div>
    <div class="input-with-icons">
        <input class="autocomplete"
            (keyup)="applyFilter($event.target.value)">
        <div class="icon-container">
            <div class="svg-container icon large"
                [inlineSVG]="'/assets/svg/search.svg'"></div>
        </div>
    </div>
    <div *ngIf="!dataLoaded"
        class="spinner-container"
        fxLayout="column"
        fxLayoutAlign="center center">
        <mat-spinner diameter="30"></mat-spinner>
    </div>
    <div class="table-container">
        <table [ngClass]="{'invis': !dataLoaded}"
            mat-table
            [dataSource]="addresses"
            matSort>
            <ng-container matColumnDef="address"
                sticky>
                <th mat-header-cell
                    *matHeaderCellDef
                    mat-sort-header>{{ 'ADDRESS' | translate }}</th>
                <td mat-cell
                    *matCellDef="let address">{{ address.address }}</td>
            </ng-container>
            <ng-container matColumnDef="comments">
                <th mat-header-cell
                    *matHeaderCellDef
                    mat-sort-header>{{ 'ADDITIONAL_INSTRUCTIONS' | translate }}</th>
                <td mat-cell
                    *matCellDef="let address">{{ address.comments }}</td>
            </ng-container>
            <ng-container matColumnDef="actions">
                <th mat-header-cell
                    *matHeaderCellDef
                    class="fixed-width">{{ 'ACTIONS' | translate }}</th>
                <td mat-cell
                    *matCellDef="let address"
                    fxLayout="row"
                    fxLayoutGap="5px"
                    fxLayoutAlign="space-between center">
                    <button class="accent-color"
                        (click)="editAddress(address)">{{ 'EDIT' | translate }}</button>
                    <button class="accent-color"
                        (click)="deleteAddress(address)">{{ 'DELETE' | translate }}</button>
                </td>
            </ng-container>
            <tr mat-header-row
                *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row
                *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>
</div>
